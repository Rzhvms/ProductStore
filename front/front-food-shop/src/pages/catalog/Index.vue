<template>
  <div class="catalog-page">
    <!-- Header (–ü–æ–≤—Ç–æ—Ä—è–µ–º —à–∞–ø–∫—É) -->
    <header class="header container">
      <div class="logo">LUKOSCHKO</div>
      <div class="header-icons">
        <button class="icon-btn">üõí</button>
        <button class="icon-btn">‚ù§Ô∏è</button>
        <button class="icon-btn">üë§</button>
      </div>
    </header>

    <main class="main-content container" style="display: block;">
      <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∏ –ü–æ–∏—Å–∫ -->
      <div class="page-top-row">
        <h1>–ö–∞—Ç–∞–ª–æ–≥</h1>
        <div class="search-bar">
          <span class="search-icon">üîç</span>
          <input type="text" placeholder="–ü–æ–∏—Å–∫..." />
        </div>
      </div>

      <!-- –°–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π (–ê–∫–∫–æ—Ä–¥–µ–æ–Ω) -->
      <div class="categories-list">
        <div 
          v-for="(category, index) in categories" 
          :key="index" 
          class="category-item"
        >
          <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (–∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–π) -->
          <div class="category-header" @click="toggleCategory(index)">
            <span class="cat-name">{{ category.name }}</span>
            <!-- –°—Ç—Ä–µ–ª–æ—á–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –≤—Ä–∞—â–∞–µ—Ç—Å—è -->
            <span class="chevron" :class="{ open: category.isOpen }">‚åµ</span>
          </div>

          <!-- –ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (–ø–æ—è–≤–ª—è—é—Ç—Å—è –µ—Å–ª–∏ isOpen = true) -->
          <transition name="slide-fade">
            <div v-if="category.isOpen" class="subcategories-list">
              <div 
                v-for="(sub, subIndex) in category.items" 
                :key="subIndex" 
                class="subcategory-item"
                :class="{ active: subIndex === 1 && index === 2 }" 
              >
                <!-- :class active - –ø—Ä–æ—Å—Ç–æ –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å —Å–µ—Ä—ã–π —Ñ–æ–Ω –∫–∞–∫ –Ω–∞ –º–∞–∫–µ—Ç–µ -->
                {{ sub }}
              </div>
            </div>
          </transition>
        </div>
      </div>

      <!-- –ö–Ω–æ–ø–∫–∞ –≤–Ω–∏–∑—É —Å–ø—Ä–∞–≤–∞ -->
      <div class="bottom-action">
        <button class="btn-primary">–°–≤—è–∑–∞—Ç—å—Å—è —Å –Ω–∞–º–∏</button>
      </div>
    </main>

    <!-- Footer (–¢–æ—Ç –∂–µ, —á—Ç–æ –∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Ç–æ–≤–∞—Ä–∞) -->
    <footer class="footer">
      <div class="container footer-grid">
        <div class="footer-col">
          <h4>–ù–∞—à–∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã</h4>
          <p>+7 999 999 99-99</p>
          <p>example@gmail.com</p>
          <div class="socials">
             <span v-for="i in 5" :key="i" class="social-circle"></span>
          </div>
          <p class="copyright">Copyright</p>
        </div>
        <div class="footer-col">
          <h4>–ü–æ–∫—É–ø–∞—Ç–µ–ª—è–º</h4>
          <ul>
            <li><a href="#">–°–ø—Ä–∞–≤–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</a></li>
            <li><a href="#">–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å</a></li>
          </ul>
        </div>
        <div class="footer-col">
           <h4>–ü–∞—Ä—Ç–Ω–µ—Ä–∞–º</h4>
            <ul>
            <li><a href="#">–í–∞–∫–∞–Ω—Å–∏–∏</a></li>
            <li><a href="#">–ü–æ—Å—Ç–∞–≤—â–∏–∫–∞–º</a></li>
          </ul>
        </div>
        <div class="footer-col">
           <h4>–ò–Ω—Ñ–æ</h4>
            <ul>
            <li><a href="#">–ü—Ä–∞–≤–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</a></li>
          </ul>
        </div>
         <div class="footer-col">
           <h4>–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</h4>
           <p>Android –∏ iOS</p>
           <div class="app-qr-placeholder"></div>
        </div>
      </div>
    </footer>
  </div>
</template>

<script setup>
import { ref } from 'vue';

// –ú–æ–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∫–∞—Ç–∞–ª–æ–≥–∞
const categories = ref([
  { name: '–ì–æ—Ç–æ–≤–∞—è', items: ['–°–∞–ª–∞—Ç—ã', '–°—É–ø—ã'], isOpen: false },
  { name: '–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏', items: ['–ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è 1', '–ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è 2'], isOpen: false },
  { 
    name: '–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏', 
    items: [
      '–ù–∞–∑–≤–∞–Ω–∏–µ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏',
      '–ù–∞–∑–≤–∞–Ω–∏–µ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏', // –≠—Ç–æ—Ç –±—É–¥–µ—Ç –ø–æ–¥—Å–≤–µ—á–µ–Ω —Å–µ—Ä—ã–º —á–µ—Ä–µ–∑ CSS –∫–ª–∞—Å—Å active
      '–ù–∞–∑–≤–∞–Ω–∏–µ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏',
      '–ù–∞–∑–≤–∞–Ω–∏–µ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏',
      '–ù–∞–∑–≤–∞–Ω–∏–µ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏',
      '–ù–∞–∑–≤–∞–Ω–∏–µ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏',
    ], 
    isOpen: true // –≠—Ç–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—è –æ—Ç–∫—Ä—ã—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –∫–∞–∫ –Ω–∞ –º–∞–∫–µ—Ç–µ
  },
  { name: '–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏', items: ['–¢–µ—Å—Ç'], isOpen: false },
  { name: '–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏', items: [], isOpen: false },
  { name: '–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏', items: [], isOpen: false },
  { name: '–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏', items: [], isOpen: false },
  { name: '–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏', items: [], isOpen: false },
  { name: '–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏', items: [], isOpen: false },
  { name: '–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏', items: [], isOpen: false },
]);

// –õ–æ–≥–∏–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è
const toggleCategory = (index) => {
  categories.value[index].isOpen = !categories.value[index].isOpen;
};
</script>

<style lang="scss" scoped>
/* –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ */
$primary-orange: #ff8800;
$text-dark: #222;
$text-grey: #888;
$bg-secondary: #f6f6f6;
$border-color: #e0e0e0;
$container-max-width: 1920px;

/* Reset & Base */
.container {
  max-width: $container-max-width;
  margin: 0 auto;
  padding: 0 20px;
  box-sizing: border-box;
}

button { cursor: pointer; border: none; background: none; font-family: inherit;}
a { text-decoration: none; color: inherit; }
ul { list-style: none; padding: 0; margin: 0; }

.btn-primary {
  background-color: $primary-orange;
  color: white;
  padding: 12px 24px;
  border-radius: 30px;
  font-weight: 600;
  font-size: 16px;
  transition: opacity 0.2s;
  &:hover { opacity: 0.9; }
}

/* Header */
.header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 20px;
  .logo { font-weight: bold; font-size: 24px; color: $primary-orange; }
  .icon-btn { font-size: 20px; margin-left: 15px; color: $text-grey; }
}

/* --- Catalog Specific Styles --- */

.main-content {
  min-height: 600px;
  padding-bottom: 60px;
}

/* –í–µ—Ä—Ö–Ω—è—è —Å—Ç—Ä–æ–∫–∞ —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º –∏ –ø–æ–∏—Å–∫–æ–º */
.page-top-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: 20px;
  margin-bottom: 30px;

  h1 {
    font-size: 32px;
    font-weight: bold;
    color: $text-dark;
  }

  .search-bar {
    display: flex;
    align-items: center;
    background-color: $bg-secondary;
    padding: 12px 20px;
    border-radius: 8px;
    width: 60%; /* –®–∏—Ä–æ–∫–∏–π –ø–æ–∏—Å–∫ –∫–∞–∫ –Ω–∞ –º–∞–∫–µ—Ç–µ */
    
    .search-icon {
      color: $text-grey;
      margin-right: 10px;
      font-size: 18px;
    }
    
    input {
      border: none;
      background: transparent;
      outline: none;
      width: 100%;
      font-size: 16px;
      color: $text-dark;
      &::placeholder {
        color: $text-grey;
      }
    }
  }
}

/* –°–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π */
.categories-list {
  border-top: 1px solid $border-color;
  
  .category-item {
    border-bottom: 1px solid $border-color;
    
    .category-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 20px 0;
      cursor: pointer;
      user-select: none;
      transition: color 0.2s;

      .cat-name {
        font-size: 16px;
        font-weight: 500;
        color: $text-dark;
      }

      .chevron {
        color: $text-grey;
        font-size: 14px;
        transition: transform 0.3s ease;
        &.open {
          transform: rotate(180deg); /* –ü–æ–≤–æ—Ä–æ—Ç —Å—Ç—Ä–µ–ª–∫–∏ */
        }
      }
      
      &:hover .cat-name {
        color: $primary-orange;
      }
    }

    /* –°–ø–∏—Å–æ–∫ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–π */
    .subcategories-list {
      padding-bottom: 20px;
      
      .subcategory-item {
        padding: 12px 20px; /* –û—Ç—Å—Ç—É–ø—ã –≤–Ω—É—Ç—Ä–∏ */
        margin-bottom: 4px;
        color: $text-dark;
        font-size: 16px;
        cursor: pointer;
        /* –ù–∞ –º–∞–∫–µ—Ç–µ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –Ω–µ –∏–º–µ—é—Ç –æ—Ç—Å—Ç—É–ø–∞ —Å–ª–µ–≤–∞ –æ—Ç –∫—Ä–∞—è, 
           –Ω–æ –∏–º–µ—é—Ç —Ñ–æ–Ω –Ω–∞ –≤—Å—é —à–∏—Ä–∏–Ω—É –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏.
           –ú—ã –¥–µ–ª–∞–µ–º –ø–∞–¥–¥–∏–Ω–≥ —Å–ª–µ–≤–∞, —á—Ç–æ–±—ã —Ç–µ–∫—Å—Ç –±—ã–ª —Å–¥–≤–∏–Ω—É—Ç. */
           
        &.active, &:hover {
          background-color: $bg-secondary;
          border-radius: 4px; /* –ù–µ–±–æ–ª—å—à–æ–µ —Å–∫—Ä—É–≥–ª–µ–Ω–∏–µ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ, –Ω–∞ –º–∞–∫–µ—Ç–µ –≤—Ä–æ–¥–µ –ø—Ä—è–º—ã–µ */
        }
      }
    }
  }
}

/* –ö–Ω–æ–ø–∫–∞ –≤–Ω–∏–∑—É */
.bottom-action {
  display: flex;
  justify-content: flex-end;
  margin-top: 40px;
}

/* Footer (Same as Product page) */
.footer {
  background-color: $bg-secondary;
  padding: 60px 0;
  font-size: 14px;
  color: $text-dark;
  margin-top: auto;
  
  .footer-grid {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 40px;
    
    h4 { color: $primary-orange; margin-bottom: 20px; }
    ul li { margin-bottom: 10px; }
    p { margin-bottom: 10px; color: #555; }
    
    .socials {
        display: flex;
        gap: 10px;
        margin: 20px 0;
        .social-circle { width: 30px; height: 30px; background: #999; border-radius: 50%; display: inline-block; }
    }
    .copyright { color: $primary-orange; font-weight: bold; margin-top: 20px;}
    .app-qr-placeholder { width: 100px; height: 100px; background: #ddd; }
  }
}

/* –ê–Ω–∏–º–∞—Ü–∏—è —Ä–∞—Å–∫—Ä—ã—Ç–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) */
.slide-fade-enter-active,
.slide-fade-leave-active {
  transition: all 0.3s ease-out;
  max-height: 500px; /* –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±–æ–ª—å—à–æ–µ —á–∏—Å–ª–æ */
  overflow: hidden;
  opacity: 1;
}

.slide-fade-enter-from,
.slide-fade-leave-to {
  max-height: 0;
  opacity: 0;
  padding-bottom: 0;
}
</style>